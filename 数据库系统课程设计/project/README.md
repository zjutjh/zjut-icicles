# æ•™åŠ¡ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºFlaskçš„å®Œæ•´æ•™åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå­¦ç”Ÿã€æ•™å¸ˆå’Œç®¡ç†å‘˜ä¸‰ç§è§’è‰²ï¼Œæä¾›é€‰è¯¾ã€æˆç»©ç®¡ç†ã€è¯¾è¡¨æŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹è‰²

### å­¦ç”ŸåŠŸèƒ½
- ğŸ“ è¯¾ç¨‹é€‰æ‹©å’Œé€€è¯¾
- ğŸ“… ä¸ªäººè¯¾è¡¨æŸ¥çœ‹
- ğŸ“Š æˆç»©æŸ¥è¯¢å’ŒGPAç»Ÿè®¡
- ğŸ¯ åŸ¹å…»è®¡åˆ’æŸ¥çœ‹
- ğŸ“ è¯¾ç¨‹è¯„ä»·

### æ•™å¸ˆåŠŸèƒ½
- ğŸ“š æˆè¯¾ç®¡ç†
- ğŸ‘¥ ç­çº§åå•æŸ¥çœ‹
- âœï¸ æˆç»©å½•å…¥
- ğŸ“ˆ æ•™å­¦ç»Ÿè®¡
- ğŸ“‹ å­¦ç”Ÿè¡¨ç°è·Ÿè¸ª

### ç®¡ç†å‘˜åŠŸèƒ½
- ğŸ‘¨â€ğŸ“ å­¦ç”Ÿä¿¡æ¯ç®¡ç†
- ğŸ‘¨â€ğŸ« æ•™å¸ˆä¿¡æ¯ç®¡ç†
- ğŸ“– è¯¾ç¨‹å’Œä¸“ä¸šç®¡ç†
- ğŸ¢ æ•™å­¦èµ„æºç®¡ç†
- ğŸ“Š ç»Ÿè®¡æŠ¥è¡¨

### ç³»ç»Ÿç‰¹æ€§
- ğŸ” å…¨å±€æ™ºèƒ½æœç´¢
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸ” è§’è‰²æƒé™æ§åˆ¶
- ğŸŒ å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡ï¼‰
- ğŸ“ˆ å®æ—¶æ•°æ®ç»Ÿè®¡

## æŠ€æœ¯æ ˆ

- **åç«¯**: Flask, Flask-Login, Flask-SQLAlchemy
- **å‰ç«¯**: HTML5, CSS3, JavaScript (åŸç”Ÿ)
- **æ•°æ®åº“**: PostgreSQL / GaussDB
- **æ ·å¼**: è‡ªå®šä¹‰CSSï¼ˆç°ä»£åŒ–è®¾è®¡ï¼‰

## å®‰è£…è¯´æ˜

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.8+
- PostgreSQL 12+ æˆ– GaussDB
- pip åŒ…ç®¡ç†å™¨

### 2. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd DataBase
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. æ•°æ®åº“é…ç½®

1. åˆ›å»ºPostgreSQLæ•°æ®åº“ï¼š
```sql
CREATE DATABASE liyh_university_db;
```

2. æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼š
```bash
psql -d liyh_university_db -f university_db_setup.sql
```

3. é…ç½®æ•°æ®åº“è¿æ¥ï¼Œç¼–è¾‘ `src/database.py` æ–‡ä»¶ä¸­çš„æ•°æ®åº“è¿æ¥å‚æ•°ï¼š
```python
DATABASE_CONFIG = {
    'host': 'localhost',
    'port': 5432,
    'database': 'liyh_university_db',
    'user': 'your_username',
    'password': 'your_password'
}
```

### 5. è¿è¡Œåº”ç”¨

```bash
python run.py
```

åº”ç”¨å°†åœ¨ `http://localhost:5000` å¯åŠ¨ã€‚

## ä½¿ç”¨è¯´æ˜

### ç™»å½•è´¦å·

ç³»ç»Ÿæ”¯æŒä¸‰ç§è§’è‰²çš„ç”¨æˆ·ï¼š

1. **å­¦ç”Ÿè´¦å·**ï¼šä½¿ç”¨å­¦å·ä½œä¸ºç”¨æˆ·åï¼ˆå¦‚ï¼š2023001ï¼‰
2. **æ•™å¸ˆè´¦å·**ï¼šä½¿ç”¨å·¥å·ä½œä¸ºç”¨æˆ·åï¼ˆå¦‚ï¼šT001ï¼‰
3. **ç®¡ç†å‘˜è´¦å·**ï¼šä½¿ç”¨ç®¡ç†å‘˜IDä½œä¸ºç”¨æˆ·åï¼ˆå¦‚ï¼šA001ï¼‰

> æ³¨ï¼šæ¼”ç¤ºç‰ˆæœ¬ä¸­ï¼Œæ‰€æœ‰è´¦å·çš„å¯†ç å¯ä»¥æ˜¯ä»»æ„å€¼

### ä¸»è¦åŠŸèƒ½æ¨¡å—

#### å­¦ç”Ÿç«¯
- è®¿é—® `/course_selection` è¿›è¡Œé€‰è¯¾
- è®¿é—® `/timetable` æŸ¥çœ‹è¯¾è¡¨
- è®¿é—® `/grade_report` æŸ¥çœ‹æˆç»©
- è®¿é—® `/search` ä½¿ç”¨å…¨å±€æœç´¢

#### æ•™å¸ˆç«¯
- è®¿é—® `/my_teaching` æŸ¥çœ‹æˆè¯¾ä¿¡æ¯
- è®¿é—® `/grade_input` å½•å…¥æˆç»©
- è®¿é—® `/class_roster` æŸ¥çœ‹ç­çº§åå•

#### ç®¡ç†å‘˜ç«¯
- è®¿é—® `/manage_students` ç®¡ç†å­¦ç”Ÿä¿¡æ¯
- è®¿é—® `/manage_courses` ç®¡ç†è¯¾ç¨‹ä¿¡æ¯
- è®¿é—® `/system_settings` è¿›è¡Œç³»ç»Ÿè®¾ç½®

## é¡¹ç›®ç»“æ„

```
DataBase/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py        # Flaskåº”ç”¨å·¥å‚
â”‚   â”œâ”€â”€ main.py            # ä¸»è¦è·¯ç”±
â”‚   â”œâ”€â”€ auth.py            # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ models.py          # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ database.py        # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ static/            # é™æ€æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ css/          # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ js/           # JavaScriptæ–‡ä»¶
â”‚   â””â”€â”€ templates/         # HTMLæ¨¡æ¿
â”‚       â”œâ”€â”€ base.html      # åŸºç¡€æ¨¡æ¿
â”‚       â”œâ”€â”€ dashboard.html # ä»ªè¡¨ç›˜
â”‚       â”œâ”€â”€ login.html     # ç™»å½•é¡µé¢
â”‚       â”œâ”€â”€ search.html    # æœç´¢é¡µé¢
â”‚       â”œâ”€â”€ student/       # å­¦ç”Ÿé¡µé¢
â”‚       â”œâ”€â”€ instructor/    # æ•™å¸ˆé¡µé¢
â”‚       â””â”€â”€ admin/         # ç®¡ç†å‘˜é¡µé¢
â”œâ”€â”€ run.py                 # åº”ç”¨å¯åŠ¨æ–‡ä»¶
â”œâ”€â”€ university_db_setup.sql # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â””â”€â”€ README.md             # è¯´æ˜æ–‡æ¡£
```

## æ•°æ®åº“è®¾è®¡

ç³»ç»Ÿä½¿ç”¨æ ‡å‡†åŒ–çš„æ•°æ®åº“è®¾è®¡ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦è¡¨ï¼š

- **Liyh_Student**: å­¦ç”Ÿä¿¡æ¯è¡¨
- **Liyh_Instructor**: æ•™å¸ˆä¿¡æ¯è¡¨
- **Liyh_Course**: è¯¾ç¨‹ä¿¡æ¯è¡¨
- **Liyh_Section**: æ•™å­¦ç­è¡¨
- **Liyh_Takes**: é€‰è¯¾è®°å½•è¡¨
- **Liyh_Teaches**: æˆè¯¾è®°å½•è¡¨
- **Liyh_Major**: ä¸“ä¸šä¿¡æ¯è¡¨
- **Liyh_Department**: é™¢ç³»ä¿¡æ¯è¡¨

è¯¦ç»†çš„æ•°æ®åº“ç»“æ„è¯·å‚è€ƒ `university_db_setup.sql` æ–‡ä»¶ã€‚

## APIæ¥å£

ç³»ç»Ÿæä¾›RESTful APIæ¥å£ï¼š

### å­¦ç”Ÿç›¸å…³
- `GET /api/student/stats` - è·å–å­¦ç”Ÿç»Ÿè®¡æ•°æ®
- `GET /api/student/my_courses` - è·å–å­¦ç”Ÿé€‰è¯¾ä¿¡æ¯
- `POST /api/student/enroll` - å­¦ç”Ÿé€‰è¯¾
- `POST /api/student/withdraw` - å­¦ç”Ÿé€€è¯¾

### æœç´¢ç›¸å…³
- `GET /api/search` - å…¨å±€æœç´¢
- `GET /api/popular_terms` - çƒ­é—¨æœç´¢è¯

### ç®¡ç†å‘˜ç›¸å…³
- `GET /api/admin/students` - è·å–å­¦ç”Ÿåˆ—è¡¨
- `POST /api/admin/students` - æ·»åŠ å­¦ç”Ÿ
- `PUT /api/admin/students/{id}` - æ›´æ–°å­¦ç”Ÿä¿¡æ¯
- `DELETE /api/admin/students/{id}` - åˆ é™¤å­¦ç”Ÿ

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `src/main.py` ä¸­æ·»åŠ æ–°çš„è·¯ç”±
2. åœ¨ `src/templates/` ä¸­åˆ›å»ºå¯¹åº”çš„HTMLæ¨¡æ¿
3. åœ¨ `src/static/` ä¸­æ·»åŠ å¿…è¦çš„CSSå’ŒJavaScript
4. æ›´æ–°æ•°æ®åº“æ¨¡å‹ï¼ˆå¦‚éœ€è¦ï¼‰

### æ ·å¼å®šåˆ¶

ç³»ç»Ÿä½¿ç”¨è‡ªå®šä¹‰CSSï¼Œä¸»è¦æ ·å¼æ–‡ä»¶ä½äº `src/static/css/`ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹CSSå˜é‡æ¥å¿«é€Ÿå®šåˆ¶ä¸»é¢˜è‰²å½©ã€‚

### æ•°æ®åº“æ‰©å±•

å¦‚éœ€æ·»åŠ æ–°çš„æ•°æ®è¡¨æˆ–å­—æ®µï¼Œè¯·ï¼š

1. æ›´æ–° `university_db_setup.sql` è„šæœ¬
2. åœ¨ `src/database.py` ä¸­æ·»åŠ ç›¸åº”çš„æŸ¥è¯¢å‡½æ•°
3. æ›´æ–°ç›¸å…³çš„APIæ¥å£

## éƒ¨ç½²è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. ä½¿ç”¨ `gunicorn` ä½œä¸ºWSGIæœåŠ¡å™¨ï¼š
```bash
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 run:app
```

2. é…ç½®åå‘ä»£ç†ï¼ˆå¦‚Nginxï¼‰
3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export FLASK_ENV=production
export DATABASE_URL=postgresql://user:password@localhost/dbname
```

### Dockeréƒ¨ç½²

```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5000
CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:5000", "run:app"]
```

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·å‚é˜… `LICENSE` æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®Issues: [GitHub Issues](https://github.com/your-repo/issues)
- é‚®ç®±: your-email@example.com

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-XX)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®Œæ•´çš„å­¦ç”Ÿã€æ•™å¸ˆã€ç®¡ç†å‘˜åŠŸèƒ½
- å…¨å±€æœç´¢åŠŸèƒ½
- å“åº”å¼è®¾è®¡

---

æ„Ÿè°¢ä½¿ç”¨æ•™åŠ¡ç®¡ç†ç³»ç»Ÿï¼ğŸ“ 